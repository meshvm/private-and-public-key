
#WE SHOULD INSTALL PYCRYPTO USING PIP
#pip3 install pycryptodome

from Crypto.PublicKey import RSA
key = RSA.generate(2048)
from Crypto.PublicKey import RSA
key = RSA.generate(2048)
#export the public key to pem file and send it to the other side:

f = open('mykey','w')
f.write(key.exportKey('<em>OpenSSH</em>'))
f.close()

f = open('mykey','w')
f.write(key.exportKey('<em>OpenSSH</em>'))
f.close()
#The other side open the file and encrypt data to send:

f = open('mykey.pem','r')
clientkey = RSA.importKey(f.read())
encdata = clientkey.encrypt("hello python",10)

f = open('mykey.pem','r')
clientkey = RSA.importKey(f.read())
encdata = clientkey.encrypt("hello python",10)
#To decrypt encdata to plain text use:

t=key.decrypt(encdata)
print (t) # hello python

t=key.decrypt(encdata)
print (t) # hello python
 
